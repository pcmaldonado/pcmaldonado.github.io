<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Sales Forecasting</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,700" rel="stylesheet">

    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">

    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/ionicons.min.css">

    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">

    
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/style.css">

      <!-- Favicons -->
    <link type="image/png"  href="images/favicon_io/favicon.ico" rel="icon">

  </head>
  <body>

    <div class="KW_progressContainer">
      <div class="KW_progressBar">

      </div>
    </div>
    <div class="page">
    <nav id="colorlib-main-nav" role="navigation">
      <a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle active"><i></i></a>
      <div class="js-fullheight colorlib-table">
      	<div class="colorlib-table-cell js-fullheight">
          <div class="row no-gutters">
            <div class="col-md-12 text-center">
              <ul>
                <li><a href="index.html"><span>Home</span></a></li>
                <li><a href="about.html"><span>About</span></a></li>
                <li class="active"><a href="projects.html"><span>Portfolio</span></a></li>
                <li><a href="blog.html"><span>Blog</span></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </nav>
    
    <div class="blogpost">
    <div id="colorlib-page">
      <header>
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div class="colorlib-navbar-brand">
                <a class="colorlib-logo" href="index.html">Paula Maldonado</a>
              </div>
              <a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>
            </div>
          </div>
        </div>
      </header>

      <section class="ftco-section">
        <div class="container mt-5">
        	<div class="row justify-content-center mb-5 pb-5">
            <div class="col-md-8 text-center heading-section ftco-animate">
              <span style="font-size: small; color:rgb(226, 162, 102)">3 min read</span><br><br>
              <span>Regression - Time-Series</span>
              <h2>Sales Analysis and Forecasting</h2>
              
              <!-- <img style="border-radius:3%;" src="images/sales-forecasting/TableauDashboard.png" alt="" class="img-fluid"> -->
              <iframe title="PowerBI_sales_report" width="600" height="373.5" src="https://app.powerbi.com/view?r=eyJrIjoiMjI1Njk1NzEtMjlhYS00ZjY5LTlhNWQtMmViM2ZjYTE2OGIyIiwidCI6ImI4MDhjYjg5LTI5MjItNDgxMC1hNzRjLWNmYzU4NzBjODlhOSJ9&pageName=ReportSection" frameborder="0" allowFullScreen="true"></iframe>
              <p><a href="https://app.powerbi.com/view?r=eyJrIjoiMjI1Njk1NzEtMjlhYS00ZjY5LTlhNWQtMmViM2ZjYTE2OGIyIiwidCI6ImI4MDhjYjg5LTI5MjItNDgxMC1hNzRjLWNmYzU4NzBjODlhOSJ9&pageName=ReportSection"> Power BI Report</a> |
              <a href="https://github.com/pcmaldonado/SalesForecasting">GitHub Repository</a></p>
            </div>
          </div>
          <div class="row d-flex justify-content-center">
            <div class="col-md-10">
              <h2 class="mb-3">1. Objective</h2>
              <p>Analyzing past sales and being able to forecast future sales are two very important processes for any business, as they allow companies 
                to make better data-driven decisions.</p>
              <p>The objective of this project is to gain insights from the data and forecast sales</p>
              <p>For this, I use time-series data (Jan 2013 - Jul 2015) from 1115 different stores of the "Rossmann" chain, as well as additional data related to the stores 
                  (available on <a href="https://www.kaggle.com/c/rossmann-store-sales">Kaggle</a>).</p>
              
              <p style="font-style:italic">Note: this data was originally used in the context of a Kaggle Competition from 2016</p>
              
              <h2 class="mb-3">2. Data Analysis</h2>  
              <p>Data exploration was done using Python but the main analysis of the data was done using Power BI and the results are available as a report.</p>
              <p>Before starting the analysis, a few dimensions to analyze sales were selected:</p>
                <ul>
                  <li>Does time have an impact on sales? (e.g. seasonality)</li>
                  <li>Do promotions increase sales?</li>
                  <li>Does stores sales performance vary by state?</li>
                  <li>What characterizes the best and worst performing stores?</li>
                </ul>

              <p>From analyzing the data, the following insights were found:</p> 
              <h4 class="mb-3">2.1 Time</h4>  
              <!-- <p>From analyzing the data, the following insights were found:</p>  -->
              <ul>
                <li>Total sales declined between 2013 and 2014 mostly because there are no registered sales from stores in Bavaria in the second half of 2014. 
                  This is one of the states that usually have the most sales, and thus, this really impacts global performance.</li>
                <li>Total sales in 2015 (data available from January through July) have already exceeded 2014 sales, and average sales increased 
                  between 2013 and 2014 and between 2014 and 2015. </li>
                <li>Finally, as expected, total and average sales are higher in December.</li>
              </ul>

              <h4 class="mb-3">2.2 Promotions</h4>  
              <!-- <p>From analyzing the data, the following insights were found:</p>  -->
              <ul>
                <li>Promotions have a mixed effect on sales. Normal promotions running in a given day seem to increase sales, but ongoing promotions
                  seem to be associated with lower sales. </li>
                <li>In addition, on average, Type "B" stores, which are less frequent and have higher average sales, are the most negatively affected by these ongoing promotions.</li>
              </ul>
              <p>Further analysis and additional data are needed to understand why ongoing promotions lower sales.</p>
              <h4 class="mb-3">2.3 States</h4>  
              <!-- <p>From analyzing the data, the following insights were found:</p>  -->
              <ul>
                <li>There is no clear trend between average sales and States Density or Gross Regional Product (GRP), although there seems to be a 
                  small positive correlation.</li>
                <li>The highest average sales are in the two more dense states: Berlin and Hamburg, and the top 4 state is also the one with the highest GRP 
                  (North Rhine-Westphalia)</li>
                
              </ul>

              <h4 class="mb-3">2.4 Stores</h4>  
              <!-- <p>From analyzing the data, the following insights were found:</p>  -->
              <ul>
                <li>As mentioned before, the highest average sales come from "B" type stores. There are only 17 stores of this type among the 1115 total,
                  and 5 of them are in Berlin. </li>
                <li>On average, stores with an "Extra" assortment have higher sales. The "Extended" type of assortment also seems to increase sales, 
                  specially in stores of type "B".</li>
              </ul>

              <h2 class="mb-3">3. Forecasting Model Results</h2>  
              <p>The final model is a RandomForestRegressor with a R2 = 0.903, a RMSE = 960 and a MAE = 646 (based on performance on validation set)</p>

              <b>Test on Kaggle Competion (late submission)</b>
              <ul>
                  <li>As recommended (<a href="https://www.kaggle.com/competitions/rossmann-store-sales/discussion/17601">source</a>), 
                    before submitting I scaled back sales which did not impact other metrics besides the RMSPE, which decreased</li>
                  <li>The model gets a public score of 0.11861 on a fraction of the test data, but a final score of 0.13248 on the total of the test data which indicates
                    some overfitting (best final score in competition: 0.10021 
                      --<a href="https://www.kaggle.com/competitions/rossmann-store-sales/leaderboard">Leaderboard</a>)</li>
              </ul>

              <h2 class="mb-3">4. Process</h2>
              <h4># Preprocessing and EDA</h4>
                <ul>
                  <li>Conducted an exploratory data analysis using Python to be able to better understand the data and clean it for future forecasting</li>
                  <li>Applied an Adfuller statistical test to verify stationarity</li>
                  <li>Studied differences between the best and worst performing stores on Python</li>
                  <li>Recreated the preprocessing steps on Power BI using M and DAX, then conducted further analysis</li>
              </ul> 

              <h4># Modeling</h4>
                <ul>
                  <li>Explored different tree-based models and fine-tuned hyperparameters on the best peforming models using 3-fold cross validation with time series split</li>
                  <li>Applied a preprocessing pipeline to clean validation set to evaluate model performance</li>
                  <li>Visualized feature importance as well as interpretations with LIME (Local Interpretable Model-agnostic Explanations)</li>
                  <li>Cleaned and predicted on test data from competition then applied a late submission with final RMSPE score of 0.13248</li>
              </ul> 

              <br>
              <h2 class="mb-3">Some images from the project</h2>
              <!-- ======= Images ======= -->
              <!-- Container for the image gallery -->
              <div class="container">

                <!-- Full-width images with number text -->
                <div class="mySlides">
                  <div class="numbertext">1 / 7</div>
                    <img class="demo cursor" src="images/sales-forecasting/targetDistribution.png" style="width:88%; margin-left:6%; margin-right:6%; "
                    alt="Target Distribution" >
                  </div>

                  <div class="mySlides">
                  <div class="numbertext">2 / 7</div>
                    <img class="demo cursor" src="images/sales-forecasting/Sales2015.png" style="width:88%; margin-left:6%; margin-right:6%;"
                    alt="Evolution of Sales on 2015" >
                  </div>

                <div class="mySlides">
                  <div class="numbertext">3 / 7</div>
                    <img class="demo cursor" src="images/sales-forecasting/assortExt.png" style="width:88%; margin-left:6%; margin-right:6%;"
                    alt="Low performing stores seem to have less frequently an 'Extended' Assortment">
                </div>

                <div class="mySlides">
                    <div class="numbertext">4 / 7</div>
                      <img class="demo cursor" src="images/sales-forecasting/stateDensity.png" style="width:88%; margin-left:6%; margin-right:6%;"
                      alt="Top Performing Stores are located on High Density Staets">
                </div>

                <div class="mySlides">
                <div class="numbertext">5 / 7</div>
                    <img class="demo cursor" src="images/sales-forecasting/SalesForecasting.png" style="width:88%; margin-left:6%; margin-right:6%;"
                    alt="Sales Forecasting">
                </div>

                <div class="mySlides">
                  <div class="numbertext">6 / 7</div>
                      <img class="demo cursor" src="images/sales-forecasting/regions.png" style="width:88%; margin-left:6%; margin-right:6%;"
                      alt="Sales per State (Power BI)">
                  </div>

                <div class="mySlides">
                <div class="numbertext">7 / 7</div>
                    <img class="demo cursor" src="images/sales-forecasting/KPIs.png" style="width:88%; margin-left:6%; margin-right:6%;"
                    alt="Key Influencers (Power BI)">
                </div>
           

                <!-- Next and previous buttons -->
                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>

                <!-- Image text -->
                <div class="caption-container" style="padding-top:2%; width:88%; margin-left:6%; margin-right:6%;">
                  <p id="caption"></p>
                </div>




                <!-- ADD BUTTON TO SCROLL TO TOP -->
                <div class="container-button">
                  <!-- ICON: "Arrow icon by Icons8" <a href="https://icons8.com/"></a> -->
                  <button onclick="topFunction()" id="myBtn" title="Go to top" class="btn"><img src="images/arrow.png" alt="Arrow"></button>
                </div>



              <!-- <br>
              <div class="tag-widget post-tag-container mb-5 mt-5">
                <div class="tagcloud">
                  <a href="#" class="tag-cloud-link">Machine Learning</a>
                </div>
              </div> -->
          
            </div>
        </div>
      </section>
      
      <footer class="ftco-footer ftco-bg-dark ftco-section" style="margin-top:-5%">
        <div class="container">
          <div class="row mb-5 justify-content-center">
            <div class="col-md-5 text-center">
              <div class="ftco-footer-widget mb-5">
                <ul class="ftco-footer-social list-unstyled">
                  <li class="ftco-animate"><a href="https://medium.com/@pcmaldonado"><img src="images/icons8-medium-64 (grey).png"></span></a></li>
                  <li class="ftco-animate"><a href="https://linkedin.com/in/pcmaldonado"><img src="images/icons8-linkedin-64.png"></span></a></li>
                  <li class="ftco-animate"><a href="https://github.com/pcmaldonado"><img src="images/icons8-github-64_1.png"></span></a></li>
                </ul>
              </div>
              <!-- <div class="ftco-footer-widget">
                <h2 class="mb-3">Contact Us</h2>
                <p class="h3 email"><a href="#">info@email.com</a></p>
              </div> -->
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 text-center">

              <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
      Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true" style="color: red;"></i> by <a href="https://colorlib.com" target="_blank">Colorlib --- <a href="https://colorlib.com" target="_blank">Colorlib</a></a>
      <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
            </div>
          </div>
        </div>
      </footer>

      <!-- loader -->
      <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>

      </div>

    </div>


    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="js/scrollax.min.js"></script>
    <script src="js/bootstrap-datepicker.js"></script>
    <script src="js/jquery.timepicker.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
    <script src="js/google-map.js"></script>
    <script src="js/main.js"></script>
    
  </body>
</html>